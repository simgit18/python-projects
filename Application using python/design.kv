#:kivy 1.9.2

<LoginScreen>:
    GridLayout:
        cols: 1
        GridLayout:
            padding: 15,15
            spacing: 20,20
            cols: 1
            Label:
                font_size: "20sp"
                text: "User Login"
            TextInput:
                id: username
                hint_text: "username"
            TextInput:
                id: password
                password: True
                hint_text: "password"
            RelativeLayout:
                Button:
                    pos_hint: {'center_x':.5 , 'center_y':.6 }
                    text: "Login"
                    size_hint: .3,.5 
                    on_press: root.login(root.ids.username.text,root.ids.password.text)
            Label:
                id: login_wrong
                text:""

        GridLayout:
            size_hint:0.2,0.2
            padding: 10,10
            spacing:10,0

            cols: 2
            Button:
                color: 'blue'
                text: "Forgot Password"
                background_color: 1,1,1,0
                opacity: 1 if self.state =='normal' else .5
                color: .1,.7,1,1
            Button:
                text: "Sign Up"
                color: .1,.7,1,1
                background_color: 1,1,1,0
                opacity: 1 if self.state =='normal' else .5

                on_press: root.sign_up()

<SignUp_Screen>:
    GridLayout:
        cols:1
        padding:10,10
        spacing: 10,10
        GridLayout:
            padding:10,10
            spacing:10,10
            cols:1
            Label:
                text: "Create new account"

            TextInput:
                id: username
                hint_text: "Username"
            TextInput:
                id: password
                hint_text: "Password"
            Button:
                text: "Create Account"
                on_press: root.add_user(root.ids.username.text, root.ids.password.text)

<ContinueLogin>
    GridLayout:
        cols:1
        Label:
            text:"Account Created! Go Ahead and SignIn"
        
        Button:
            text:"Back to SignIn Page"
            on_press:root.backTologin()

<LoginScreenSuccess>:
    GridLayout:
        cols:1
        padding:30,30
        spacing:30,30
        RelativeLayout:
            ImageButton:
                source: 'logout_hover.png' if self.hovered else 'logout_nothover.png'
                size_hint: .35,.35
                pos_hint: {'x': .80 , 'y': .80}
                on_press: root.logOut()

        Label:
            text: "How are you feeling?"
        
        RelativeLayout:
            TextInput:
                id: mood
                size_hint: .40,.40
                pos_hint: {'center_x':.50,'center_y':.50}
                hint_text:"try happy, sad, unloved...."
        RelativeLayout:
            Button:
                text:"Enlighten Me!"
                text_size: self.size
                halign: 'center'
                valign: 'center'
                size_hint: .30,.40
                pos_hint: {'center_x':.50,'center_y':.50}
                on_press: root.showQoute(root.ids.mood.text)
        ScrollView:
            Label:
                id: quote
                text_size: self.width,None
                text:""
                halign: 'center' if self.text == 'try another feeling' else 'left'
                valign: 'center'
                size_hint_y: None
                height: self.texture_size[1]

<RootWidget>:
    LoginScreen:
        name: "Login_screen"

    SignUp_Screen:
        name: "Signup_screen"
            
    ContinueLogin:
        name:"backTologin"

    LoginScreenSuccess:
        name: "LoginSuccess"